(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{59:function(n,t,e){},79:function(n,t,e){"use strict";e.r(t);var a=e(1),r=e(0),c=e(11),o=e.n(c),i=e(10),s=(e(59),e(20)),l=e(21),u=e(24),d=e(23),p=e(80),b=e(8),f=e(9);function m(){var n=Object(b.a)(["\n  max-width: 1170px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 12px;\n  padding-right: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .loading {\n    position: absolute;\n    left: 10%;\n    top: 0;\n    color: royalblue;\n    font-size: 18px;\n  }\n\n  .error {\n    color: salmon;\n    font-size: 18px;\n    font-weight: 700;\n    font-style: oblique;\n  }\n\n  .h1Title {\n    text-align: center;\n    margin-bottom: 30px;\n    font-size: 46px;\n    color: honeydew;\n  }\n\n  .h2Title {\n    margin-bottom: 30px;\n    font-size: 32px;\n    color: honeydew;\n  }\n\n  .text {\n    font-size: 18px;\n    font-style: italic;\n    color: salmon;\n  }\n\n  .h1-appear {\n    transform: translateX(-300%);\n  }\n\n  .h1-appear-active {\n    transform: translateX(0);\n    transition: transform 500ms linear;\n  }\n\n  .filterScale-enter {\n    opacity: 0;\n    transform: scale(0.1);\n  }\n  .filterScale-enter-active {\n    opacity: 1;\n    transform: scale(1);\n    transition: all 250ms linear;\n  }\n  .filterScale-exit {\n    opacity: 1;\n    transform: scale(1);\n  }\n  .filterScale-exit-active {\n    opacity: 0;\n    transform: scale(0.1);\n    transition: all 250ms linear;\n  }\n"]);return m=function(){return n},n}var h=f.a.div(m()),j=e(2);function g(){var n=Object(b.a)(["\n  padding: 10px;\n  margin-bottom: 50px;\n  border: 1px dotted orange;\n\n  .label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n    color: honeydew;\n    font-size: 22px;\n    font-weight: 700;\n  }\n\n  .input {\n    margin-top: 20px;\n    padding: 10px;\n    width: 250px;\n    height: 35px;\n    color: black;\n    font-size: 16px;\n    font-style: italic;\n  }\n\n  .submitBtn {\n    display: flex;\n    align-items: center;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 10px;\n    min-width: 80px;\n    height: 25px;\n    outline: none;\n    border-radius: 4px;\n    border-bottom: solid 1px #d6d6d6;\n    background-color: honeydew;\n    color: black;\n    font-weight: 700;\n    font-size: 14px;\n\n    &:hover {\n      cursor: pointer;\n    }\n    &:active {\n      background-color: springgreen;\n    }\n  }\n\n  .ntf-enter {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  .ntf-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 250ms linear;\n  }\n  .ntf-exit {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  .ntf-exit-active {\n    opacity: 0;\n    transform: translateX(100%);\n    transition: all 250ms linear;\n  }\n"]);return g=function(){return n},n}var x=f.a.form(g());function O(){var n=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  position: absolute;\n  right: 3%;\n  bottom: 80%;\n  text-align: center;\n  padding: 10px;\n  min-width: 100px;\n  height: 70px;\n  background-color: orange;\n  color: black;\n"]);return O=function(){return n},n}var C=f.a.div(O()),y=function(){return Object(a.jsx)(C,{children:Object(a.jsx)("p",{children:"Enter the contact's name and(or) phone number!"})})},v=function(){return Object(a.jsx)(C,{children:Object(a.jsx)("p",{children:"Is already in use!"})})},w=function(n){Object(u.a)(e,n);var t=Object(d.a)(e);function e(){var n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=t.call.apply(t,[this].concat(r))).state={name:"",number:"",showEmptyNtf:!1,showByUsedNtf:!1},n.handleChange=function(t){var e=t.currentTarget,a=e.name,r=e.value;n.setState(Object(j.a)({},a,r))},n.handleSubmit=function(t){t.preventDefault();var e=n.state,a=e.name,r=e.number;n.props.contacts.find((function(n){return n.name.toLowerCase()===a.toLowerCase()}))||n.props.contacts.find((function(n){return n.number===r}))?n.setState((function(n){return{showByUsedNtf:!n.showByUsedNtf}})):""===a.trim()||""===r.trim()?n.setState((function(n){return{showEmptyNtf:!n.showEmptyNtf}})):n.props.onSubmit({name:a,number:r}),n.setState({name:"",number:""})},n}return Object(l.a)(e,[{key:"render",value:function(){var n=this,t=this.state,e=t.name,r=t.number,c=t.showEmptyNtf,o=t.showByUsedNtf;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(x,{id:"contact",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:"label",children:["Name",Object(a.jsx)("input",{className:"input",type:"text",name:"name",value:e,onChange:this.handleChange,placeholder:"Type to name"})]}),Object(a.jsxs)("label",{className:"label",children:["Phone number",Object(a.jsx)("input",{className:"input",type:"text",name:"number",value:r,onChange:this.handleChange,placeholder:"Type to phone(e.g. 111-11-11)"})]}),Object(a.jsx)("button",{type:"submit",className:"submitBtn",children:"Add contact"})]}),Object(a.jsx)(p.a,{in:c,onEntered:function(){return n.setState({showEmptyNtf:!1})},timeout:2e3,classNames:"ntf",unmountOnExit:!0,children:Object(a.jsx)(y,{})}),Object(a.jsx)(p.a,{in:o,onEntered:function(){return n.setState({showByUsedNtf:!1})},timeout:2e3,classNames:"ntf",unmountOnExit:!0,children:Object(a.jsx)(v,{})})]})}}]),e}(r.Component),S=e(12),E=e.n(S),N=e(16),k=e(25),R=e(17),q=e.n(R),F=e(3),L=Object(F.b)("contacts/getRequest"),z=Object(F.b)("contacts/getSuccess"),B=Object(F.b)("contacts/getError"),X={addContactRequest:Object(F.b)("contact/addRequest"),addContactSuccess:Object(F.b)("contact/addSuccess"),addContactError:Object(F.b)("contact/addError"),getContactsRequest:L,getContactsSuccess:z,getContactsError:B,delContactRequest:Object(F.b)("contact/delRequest"),delContactSuccess:Object(F.b)("contact/delSuccess"),delContactError:Object(F.b)("contact/delError"),changeFilter:Object(F.b)("contacts/changeFilter")};q.a.defaults.baseURL="".concat("https://hw-07-react-default-rtdb.firebaseio.com");var T={getContacts:function(){return function(){var n=Object(k.a)(E.a.mark((function n(t){var e,a,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(X.getContactsRequest()),n.prev=1,n.next=4,q.a.get("/contacts.json");case 4:e=n.sent,a=e.data,r=Object.keys(a).map((function(n){return Object(N.a)(Object(N.a)({},a[n]),{},{id:n})})),t(X.getContactsSuccess(r)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),t(X.getContactsError(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(t){return n.apply(this,arguments)}}()},addContact:function(n){return function(){var t=Object(k.a)(E.a.mark((function t(e){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(X.addContactRequest()),t.prev=1,t.next=4,q.a.post("/contacts.json",n);case 4:a=t.sent,r=a.data,e(X.addContactSuccess(Object(N.a)(Object(N.a)({},n),{},{id:r.name}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(X.addContactError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}()},delContact:function(n){return function(){var t=Object(k.a)(E.a.mark((function t(e){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(X.delContactRequest()),t.prev=1,t.next=4,q.a.delete("/contacts/".concat(n,".json"));case 4:e(X.delContactSuccess(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e(X.delContactError(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(n){return t.apply(this,arguments)}}()}},U=e(19),D=function(n){return n.contacts.items},_=function(n){return n.contacts.filter},P={getContacts:D,getFilter:_,getLoading:function(n){return n.contacts.loading},getError:function(n){return n.contacts.error},getVisibleContacts:Object(U.a)([D,_],(function(n,t){return n.filter((function(n){return n.name.toLowerCase().includes(t.toLowerCase())}))}))},A={onSubmit:T.addContact},G=Object(i.b)((function(n){return{contacts:P.getContacts(n)}}),A)(w),I=e(81);function J(){var n=Object(b.a)(["\n  .contactList__item {\n    width: 400px;\n    display: flex;\n    justify-content: space-around;\n    align-items: baseline;\n    color: springgreen;\n    font-size: 19px;\n    font-weight: 500;\n\n    &:not(:last-child) {\n      margin-bottom: 20px;\n    }\n  }\n\n  .delBtn {\n    display: flex;\n    align-items: center;\n    outline: none;\n    border-radius: 4px;\n    border-bottom: solid 1px #d6d6d6;\n    min-width: 20px;\n    height: 25px;\n    padding: 10px;\n    background-color: honeydew;\n    color: black;\n    font-weight: 500;\n    font-size: 12px;\n\n    &:hover {\n      cursor: pointer;\n    }\n    &:active {\n      background-color: salmon;\n    }\n  }\n\n  .itemFade-enter {\n    opacity: 0;\n    transform: translateX(200%);\n  }\n\n  .itemFade-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 250ms linear;\n  }\n\n  .itemFade-exit {\n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  .itemFade-exit-active {\n    opacity: 0;\n    transform: translateX(-200%);\n    transition: all 250ms linear;\n  }\n"]);return J=function(){return n},n}var V=f.a.div(J()),M=function(n){var t=n.contacts,e=n.value,r=n.onDeleteContact,c=n.onChange,o=function(n){var a=n.currentTarget.id;r(a),t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})).length<2&&c("")};return Object(a.jsx)(V,{children:Object(a.jsx)(I.a,{component:"ul",children:t.map((function(n){var t=n.id,e=n.name,r=n.number;return Object(a.jsx)(p.a,{timeout:250,classNames:"itemFade",children:Object(a.jsxs)("li",{className:"contactList__item",children:[Object(a.jsxs)("p",{children:[e,": ",r]}),Object(a.jsx)("button",{className:"delBtn",type:"button",id:t,onClick:o,children:"Delete"})]})},t)}))})})},Y={onDeleteContact:T.delContact,onChange:X.changeFilter},H=Object(i.b)((function(n){return{contacts:P.getVisibleContacts(n),value:P.getFilter(n)}}),Y)(M);function K(){var n=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  color: honeydew;\n  font-size: 22px;\n  font-weight: 700;\n\n  .input {\n    margin-top: 20px;\n    padding: 10px;\n    width: 250px;\n    height: 35px;\n    color: black;\n    font-size: 16px;\n    font-style: italic;\n  }\n\n  .filterScale-enter {\n    opacity: 0;\n    transform: scale(0.1);\n  }\n\n  .filterScale-enter-active {\n    opacity: 1;\n    transform: scale(1);\n    transition: all 250ms linear;\n  }\n\n  .filterScale-exit {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  .filterScale-exit-active {\n    opacity: 0;\n    transform: scale(0.1);\n    transition: all 250ms linear;\n  }\n"]);return K=function(){return n},n}var Q,W,Z,$=f.a.label(K()),nn=function(n){var t=n.value,e=n.onChange;return Object(a.jsxs)($,{children:["Find contacts by name",Object(a.jsx)("input",{className:"input",type:"text",value:t,onChange:function(n){return e(n.currentTarget.value)}})]})},tn={onChange:X.changeFilter},en=Object(i.b)((function(n){return{value:P.getFilter(n)}}),tn)(nn),an=function(n){Object(u.a)(e,n);var t=Object(d.a)(e);function e(){return Object(s.a)(this,e),t.apply(this,arguments)}return Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.onGetContacts()}},{key:"render",value:function(){return Object(a.jsxs)(h,{children:[this.props.isLoadingContacts&&Object(a.jsx)("p",{className:"loading",children:"Loading..."}),Object(a.jsx)(p.a,{in:!0,appear:!0,timeout:500,classNames:"h1",unmountOnExit:!0,children:Object(a.jsx)("h1",{className:"h1Title",children:"Phonebook"})}),Object(a.jsx)(G,{}),Object(a.jsx)("h2",{className:"h2Title",children:"Contacts"}),Object(a.jsx)(p.a,{in:this.props.contacts.length>1,classNames:"filterScale",timeout:250,unmountOnExit:!0,children:Object(a.jsx)(en,{})}),!this.props.isError&&Object(a.jsx)(H,{}),this.props.isError&&Object(a.jsx)("p",{className:"error",children:"ERR! Something went wrong..."}),!this.props.isLoadingContacts&&!this.props.isError&&!this.props.contacts.length&&Object(a.jsx)("p",{className:"text",children:"Your phonebook is empty. Please add contact."})]})}}]),e}(r.Component),rn={onGetContacts:T.getContacts},cn=Object(i.b)((function(n){return{contacts:P.getContacts(n),isLoadingContacts:P.getLoading(n),isError:P.getError(n)}}),rn)(an),on=e(45),sn=e(7),ln=Object(F.c)([],(Q={},Object(j.a)(Q,X.getContactsSuccess,(function(n,t){return t.payload})),Object(j.a)(Q,X.addContactSuccess,(function(n,t){return[].concat(Object(on.a)(n),[t.payload])})),Object(j.a)(Q,X.delContactSuccess,(function(n,t){return n.filter((function(n){return n.id!==t.payload}))})),Q)),un=Object(F.c)(!1,(W={},Object(j.a)(W,X.getContactsRequest,(function(){return!0})),Object(j.a)(W,X.getContactsSuccess,(function(){return!1})),Object(j.a)(W,X.getContactsError,(function(){return!1})),Object(j.a)(W,X.addContactRequest,(function(){return!0})),Object(j.a)(W,X.addContactSuccess,(function(){return!1})),Object(j.a)(W,X.addContactError,(function(){return!1})),Object(j.a)(W,X.delContactRequest,(function(){return!0})),Object(j.a)(W,X.delContactSuccess,(function(){return!1})),Object(j.a)(W,X.delContactError,(function(){return!1})),W)),dn=Object(F.c)(null,(Z={},Object(j.a)(Z,X.getContactsError,(function(n,t){return t.payload})),Object(j.a)(Z,X.getContactsRequest,(function(){return null})),Object(j.a)(Z,X.addContactError,(function(n,t){return t.payload})),Object(j.a)(Z,X.addContactRequest,(function(){return null})),Object(j.a)(Z,X.delContactError,(function(n,t){return t.payload})),Object(j.a)(Z,X.delContactRequest,(function(){return null})),Z)),pn=Object(F.c)("",Object(j.a)({},X.changeFilter,(function(n,t){return t.payload}))),bn=Object(sn.c)({items:ln,loading:un,error:dn,filter:pn}),fn=Object(F.a)({reducer:{contacts:bn}});o.a.render(Object(a.jsx)(i.a,{store:fn,children:Object(a.jsx)(cn,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.c4ad282c.chunk.js.map